{"id":"Focm","dependencies":[{"name":"C:\\projects\\todo_App\\package.json","includedInParent":true,"mtime":1720120765237},{"name":"./constants","loc":{"line":1,"column":34,"index":34},"parent":"C:\\projects\\todo_App\\src\\index.js","resolved":"C:\\projects\\todo_App\\src\\constants.js"},{"name":"./model","loc":{"line":2,"column":33,"index":83},"parent":"C:\\projects\\todo_App\\src\\index.js","resolved":"C:\\projects\\todo_App\\src\\model.js"},{"name":"./storage","loc":{"line":3,"column":30,"index":125},"parent":"C:\\projects\\todo_App\\src\\index.js","resolved":"C:\\projects\\todo_App\\src\\storage.js"},{"name":"./view","loc":{"line":4,"column":27,"index":166},"parent":"C:\\projects\\todo_App\\src\\index.js","resolved":"C:\\projects\\todo_App\\src\\view.js"}],"generated":{"js":"\"use strict\";var e=require(\"./constants\"),t=require(\"./model\"),o=require(\"./storage\"),d=require(\"./view\");const r=document.getElementById(\"js-input\"),n=document.getElementById(\"js-btn\"),c=document.getElementById(\"js-clear-btn\"),s=[],a=(0,t.createTodosModel)(s),u=(0,d.createView)(\"#js-output\",l),i=(0,o.createStorage)(e.TODOS_STORAGE_KEY);function l(e){a.toggleTodo(e),i.update(a.getTodo(e))}i.pull().then(e=>{a.setTodos(e),u.renderTodos(a.getTodos())}).catch(e=>{console.error(\"An error occurred while fetching data:\",e)}),n.addEventListener(\"click\",()=>{const e=r.value,t=a.addTodo({title:e});u.addTodo(t),i.push(t)}),c.addEventListener(\"click\",function(){i.delete(a.getTodos()),a.setTodos([]),u.clearTodos()});"},"sourceMaps":{"js":{"mappings":[{"source":"index.js","original":{"line":43,"column":0},"generated":{"line":1,"column":0}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"index.js","name":"_constants","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"index.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":27}},{"source":"index.js","name":"_model","original":{"line":2,"column":0},"generated":{"line":1,"column":42}},{"source":"index.js","name":"require","original":{"line":2,"column":0},"generated":{"line":1,"column":44}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":52}},{"source":"index.js","name":"_storage","original":{"line":3,"column":0},"generated":{"line":1,"column":63}},{"source":"index.js","name":"require","original":{"line":3,"column":0},"generated":{"line":1,"column":65}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":73}},{"source":"index.js","name":"_view","original":{"line":4,"column":0},"generated":{"line":1,"column":86}},{"source":"index.js","name":"require","original":{"line":4,"column":0},"generated":{"line":1,"column":88}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":96}},{"source":"index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":106}},{"source":"index.js","name":"inputNode","original":{"line":6,"column":6},"generated":{"line":1,"column":112}},{"source":"index.js","name":"document","original":{"line":6,"column":18},"generated":{"line":1,"column":114}},{"source":"index.js","name":"getElementById","original":{"line":6,"column":27},"generated":{"line":1,"column":123}},{"source":"index.js","original":{"line":6,"column":42},"generated":{"line":1,"column":138}},{"source":"index.js","name":"btnNode","original":{"line":7,"column":6},"generated":{"line":1,"column":150}},{"source":"index.js","name":"document","original":{"line":7,"column":16},"generated":{"line":1,"column":152}},{"source":"index.js","name":"getElementById","original":{"line":7,"column":25},"generated":{"line":1,"column":161}},{"source":"index.js","original":{"line":7,"column":40},"generated":{"line":1,"column":176}},{"source":"index.js","name":"btnClearNode","original":{"line":8,"column":6},"generated":{"line":1,"column":186}},{"source":"index.js","name":"document","original":{"line":8,"column":21},"generated":{"line":1,"column":188}},{"source":"index.js","name":"getElementById","original":{"line":8,"column":30},"generated":{"line":1,"column":197}},{"source":"index.js","original":{"line":8,"column":45},"generated":{"line":1,"column":212}},{"source":"index.js","name":"initialTodos","original":{"line":9,"column":6},"generated":{"line":1,"column":228}},{"source":"index.js","original":{"line":9,"column":21},"generated":{"line":1,"column":230}},{"source":"index.js","name":"model","original":{"line":10,"column":6},"generated":{"line":1,"column":233}},{"source":"index.js","original":{"line":10,"column":14},"generated":{"line":1,"column":236}},{"source":"index.js","name":"createTodosModel","original":{"line":10,"column":14},"generated":{"line":1,"column":238}},{"source":"index.js","original":{"line":10,"column":30},"generated":{"line":1,"column":240}},{"source":"index.js","name":"initialTodos","original":{"line":10,"column":31},"generated":{"line":1,"column":258}},{"source":"index.js","name":"view","original":{"line":11,"column":6},"generated":{"line":1,"column":261}},{"source":"index.js","original":{"line":11,"column":13},"generated":{"line":1,"column":264}},{"source":"index.js","name":"createView","original":{"line":11,"column":13},"generated":{"line":1,"column":266}},{"source":"index.js","original":{"line":11,"column":23},"generated":{"line":1,"column":268}},{"source":"index.js","original":{"line":11,"column":24},"generated":{"line":1,"column":280}},{"source":"index.js","name":"handleClickTodo","original":{"line":11,"column":38},"generated":{"line":1,"column":293}},{"source":"index.js","name":"storage","original":{"line":12,"column":6},"generated":{"line":1,"column":296}},{"source":"index.js","original":{"line":12,"column":16},"generated":{"line":1,"column":299}},{"source":"index.js","name":"createStorage","original":{"line":12,"column":16},"generated":{"line":1,"column":301}},{"source":"index.js","original":{"line":12,"column":29},"generated":{"line":1,"column":303}},{"source":"index.js","name":"TODOS_STORAGE_KEY","original":{"line":12,"column":30},"generated":{"line":1,"column":318}},{"source":"index.js","original":{"line":12,"column":47},"generated":{"line":1,"column":320}},{"source":"index.js","original":{"line":39,"column":0},"generated":{"line":1,"column":339}},{"source":"index.js","name":"handleClickTodo","original":{"line":39,"column":9},"generated":{"line":1,"column":348}},{"source":"index.js","name":"id","original":{"line":39,"column":25},"generated":{"line":1,"column":350}},{"source":"index.js","name":"model","original":{"line":40,"column":4},"generated":{"line":1,"column":353}},{"source":"index.js","name":"toggleTodo","original":{"line":40,"column":10},"generated":{"line":1,"column":355}},{"source":"index.js","name":"id","original":{"line":40,"column":21},"generated":{"line":1,"column":366}},{"source":"index.js","name":"storage","original":{"line":41,"column":4},"generated":{"line":1,"column":369}},{"source":"index.js","name":"update","original":{"line":41,"column":12},"generated":{"line":1,"column":371}},{"source":"index.js","name":"model","original":{"line":41,"column":19},"generated":{"line":1,"column":378}},{"source":"index.js","name":"getTodo","original":{"line":41,"column":25},"generated":{"line":1,"column":380}},{"source":"index.js","name":"id","original":{"line":41,"column":33},"generated":{"line":1,"column":388}},{"source":"index.js","name":"storage","original":{"line":15,"column":0},"generated":{"line":1,"column":392}},{"source":"index.js","name":"pull","original":{"line":15,"column":8},"generated":{"line":1,"column":394}},{"source":"index.js","name":"then","original":{"line":15,"column":15},"generated":{"line":1,"column":401}},{"source":"index.js","name":"todos","original":{"line":15,"column":21},"generated":{"line":1,"column":406}},{"source":"index.js","name":"model","original":{"line":16,"column":4},"generated":{"line":1,"column":410}},{"source":"index.js","name":"setTodos","original":{"line":16,"column":10},"generated":{"line":1,"column":412}},{"source":"index.js","name":"todos","original":{"line":16,"column":19},"generated":{"line":1,"column":421}},{"source":"index.js","name":"view","original":{"line":17,"column":4},"generated":{"line":1,"column":424}},{"source":"index.js","name":"renderTodos","original":{"line":17,"column":9},"generated":{"line":1,"column":426}},{"source":"index.js","name":"model","original":{"line":17,"column":21},"generated":{"line":1,"column":438}},{"source":"index.js","name":"getTodos","original":{"line":17,"column":27},"generated":{"line":1,"column":440}},{"source":"index.js","name":"catch","original":{"line":18,"column":3},"generated":{"line":1,"column":454}},{"source":"index.js","name":"error","original":{"line":18,"column":10},"generated":{"line":1,"column":460}},{"source":"index.js","name":"console","original":{"line":19,"column":4},"generated":{"line":1,"column":464}},{"source":"index.js","name":"error","original":{"line":19,"column":12},"generated":{"line":1,"column":472}},{"source":"index.js","original":{"line":19,"column":18},"generated":{"line":1,"column":478}},{"source":"index.js","name":"error","original":{"line":19,"column":60},"generated":{"line":1,"column":519}},{"source":"index.js","name":"btnNode","original":{"line":22,"column":0},"generated":{"line":1,"column":524}},{"source":"index.js","name":"addEventListener","original":{"line":22,"column":8},"generated":{"line":1,"column":526}},{"source":"index.js","original":{"line":22,"column":25},"generated":{"line":1,"column":543}},{"source":"index.js","original":{"line":22,"column":34},"generated":{"line":1,"column":551}},{"source":"index.js","original":{"line":24,"column":4},"generated":{"line":1,"column":556}},{"source":"index.js","name":"todoTitle","original":{"line":24,"column":10},"generated":{"line":1,"column":562}},{"source":"index.js","name":"inputNode","original":{"line":24,"column":22},"generated":{"line":1,"column":564}},{"source":"index.js","name":"value","original":{"line":24,"column":32},"generated":{"line":1,"column":566}},{"source":"index.js","name":"todo","original":{"line":25,"column":10},"generated":{"line":1,"column":572}},{"source":"index.js","name":"model","original":{"line":25,"column":17},"generated":{"line":1,"column":574}},{"source":"index.js","name":"addTodo","original":{"line":25,"column":23},"generated":{"line":1,"column":576}},{"source":"index.js","original":{"line":25,"column":31},"generated":{"line":1,"column":584}},{"source":"index.js","name":"title","original":{"line":26,"column":8},"generated":{"line":1,"column":585}},{"source":"index.js","name":"todoTitle","original":{"line":26,"column":15},"generated":{"line":1,"column":591}},{"source":"index.js","name":"view","original":{"line":28,"column":4},"generated":{"line":1,"column":595}},{"source":"index.js","name":"addTodo","original":{"line":28,"column":9},"generated":{"line":1,"column":597}},{"source":"index.js","name":"todo","original":{"line":28,"column":17},"generated":{"line":1,"column":605}},{"source":"index.js","name":"storage","original":{"line":29,"column":4},"generated":{"line":1,"column":608}},{"source":"index.js","name":"push","original":{"line":29,"column":12},"generated":{"line":1,"column":610}},{"source":"index.js","name":"todo","original":{"line":29,"column":17},"generated":{"line":1,"column":615}},{"source":"index.js","name":"btnClearNode","original":{"line":32,"column":0},"generated":{"line":1,"column":620}},{"source":"index.js","name":"addEventListener","original":{"line":32,"column":13},"generated":{"line":1,"column":622}},{"source":"index.js","original":{"line":32,"column":30},"generated":{"line":1,"column":639}},{"source":"index.js","original":{"line":32,"column":39},"generated":{"line":1,"column":647}},{"source":"index.js","name":"storage","original":{"line":33,"column":4},"generated":{"line":1,"column":658}},{"source":"index.js","name":"delete","original":{"line":33,"column":12},"generated":{"line":1,"column":660}},{"source":"index.js","name":"model","original":{"line":33,"column":19},"generated":{"line":1,"column":667}},{"source":"index.js","name":"getTodos","original":{"line":33,"column":25},"generated":{"line":1,"column":669}},{"source":"index.js","name":"model","original":{"line":34,"column":4},"generated":{"line":1,"column":681}},{"source":"index.js","name":"setTodos","original":{"line":34,"column":10},"generated":{"line":1,"column":683}},{"source":"index.js","original":{"line":34,"column":19},"generated":{"line":1,"column":692}},{"source":"index.js","name":"view","original":{"line":35,"column":4},"generated":{"line":1,"column":696}},{"source":"index.js","name":"clearTodos","original":{"line":35,"column":9},"generated":{"line":1,"column":698}}],"sources":{"index.js":"import { TODOS_STORAGE_KEY } from \"./constants\";\r\nimport { createTodosModel } from \"./model\";\r\nimport { createStorage } from \"./storage\";\r\nimport { createView } from \"./view\";\r\n\r\nconst inputNode = document.getElementById('js-input');\r\nconst btnNode = document.getElementById('js-btn');\r\nconst btnClearNode = document.getElementById('js-clear-btn');\r\nconst initialTodos = []; // Создание массива todos\r\nconst model = createTodosModel(initialTodos);\r\nconst view = createView('#js-output', handleClickTodo); // Обновляем селектор, добавляя '#' для ID\r\nconst storage = createStorage(TODOS_STORAGE_KEY);\r\n\r\n// Беру данные с backend \r\nstorage.pull().then((todos) => {\r\n    model.setTodos(todos); //обновляю данные\r\n    view.renderTodos(model.getTodos()); //делаю отрисовку данных\r\n}).catch((error) => {\r\n    console.error('An error occurred while fetching data:', error);\r\n});\r\n\r\nbtnNode.addEventListener('click', () => {\r\n    //добаляем todo\r\n    const todoTitle = inputNode.value;\r\n    const todo = model.addTodo({\r\n        title: todoTitle,\r\n    }); //передаю title  в model\r\n    view.addTodo(todo);//отображаю todo\r\n    storage.push(todo); //сохраняю todo в бд\r\n});\r\n//очищаем бд и страницу\r\nbtnClearNode.addEventListener('click', function () {\r\n    storage.delete(model.getTodos());\r\n    model.setTodos([]); //чищу бд\r\n    view.clearTodos(); //убераю отображение\r\n});\r\n\r\n//переключение флажка\r\nfunction handleClickTodo(id) {\r\n    model.toggleTodo(id); //переключаем todo в model\r\n    storage.update(model.getTodo(id)); //обновляем\r\n\r\n}"},"lineCount":null}},"error":null,"hash":"396cc68814e472c521b92452436f2f55","cacheData":{"env":{}}}